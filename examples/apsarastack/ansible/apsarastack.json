{
  "variables": {
    "access_key": "{{env `APSARASTACK_ACCESS_KEY`}}",
    "secret_key": "{{env `APSARASTACK_SECRET_KEY`}}",
    "resource_group_set_name": "{{env `RESOURCE_GROUP_SET_NAME`}}"
  },
  "builders": [{
    "type": "apsarastack",
    "access_key": "{{user `access_key`}}",
    "secret_key": "{{user `secret_key`}}",
    "region": "cn-neimeng-env30-d01",
    "insecure": true,
    "proxy": "http://100.67.76.9:53001",
    "endpoint": "server.asapi.cn-neimeng-env30-d01.intra.env30.shuguang.com/asapi/v3",
    "image_name":"packer-yml-userdata",
    "source_image":"ubuntu_16_04_x64_20G_alibase_20200220.vhd",
    "instance_type":"ecs.e4.small",
    "io_optimized":"true",
    "vswitch_id":"vsw-0rvexqv01jqi2id00ys1a",
    "vpc_id":"vpc-0rvrccfbub4vxtoa9e5c0",
    "communicator": "ssh",
    "ssh_username": "root",
    "ssh_password": "Test!12345",
    "user_data_file": "examples/apsarastack/ansible/user_data.sh"
  }],
  "provisioners": [
    {
      "type":            "ansible-local",
      "playbook_file":   "examples/apsarastack/ansible/playbook.yml",
      "extra_arguments": ["--extra-vars", "\"pizza_toppings={{ user `topping`}}\""]
    }
  ]
}